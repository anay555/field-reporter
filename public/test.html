<!DOCTYPE html>
<html>
<head>
  <title>Gemini API Test</title>
</head>
<body>
  <h2>Gemini API Test</h2>
  
  <textarea id="userInput" rows="4" cols="50" placeholder="Type something..."></textarea><br><br>
  <button onclick="callGemini()">Ask Gemini</button>

  <h3>Response:</h3>
  <div id="output"></div>

  <script>
    const GEMINI_API_KEY = "AIzaSyCNqAo95dJT9RPuBTjLKyT15NT5kIOi-Zk";  // replace with your real key

    async function callGemini() {
      const userInput = document.getElementById("userInput").value;
      const outputDiv = document.getElementById("output");
      outputDiv.innerHTML = "⏳ Waiting for response...";

      try {
        const response = await fetch(
          "https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent?key=" + GEMINI_API_KEY,
          {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
              contents: [
                {
                  role: "user",
                  parts: [{ text: userInput }]
                }
              ]
            })
          }
        );

        const data = await response.json();
        console.log("Gemini response:", data);

        const text = data.candidates?.[0]?.content?.parts?.[0]?.text || 
                     "⚠️ No text response. Check console.";
        outputDiv.innerHTML = text.replace(/\n/g, "<br>");
      } catch (err) {
        console.error("Gemini error:", err);
        outputDiv.innerHTML = "❌ Error calling Gemini. Check console.";
      }
    }
  </script>
</body>
</html>
